package ru.mephi.hibernate_1.db;

/**
 * Интерфейс для инициализаторов таблиц базы данных.
 * Каждый инициализатор отвечает за создание и заполнение конкретной таблицы.
 */
public interface TableInitializer {

    /**
     * Создает таблицу, если она не существует
     */
    void createTable();

    /**
     * Заполняет таблицу начальными данными
     */
    void populateTable();

    /**
     * Получает имя инициализируемой таблицы
     *
     * @return имя таблицы
     */
    String getTableName();

    /**
     * Получает порядок инициализации таблицы.
     * Таблицы с меньшим порядком инициализируются раньше.
     *
     * @return порядковый номер для инициализации
     */
    default int getOrder() {
        return 100;
    }

    /**
     * Выполняет полную инициализацию таблицы:
     * создание структуры и заполнение данными
     */
    default void initialize() {
        createTable();
        populateTable();
    }
}